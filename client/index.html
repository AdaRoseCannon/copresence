<html>

<head>

	<!-- AFrame for VR -->
	<script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>

	<!-- A-FRAME COMPONENTS -->
	<!-- Bitmap Fonts -->
	<script src="https://cdn.rawgit.com/bryik/aframe-bmfont-text-component/8f83f135a72f7f230db82f962585f8c85c57f87c/dist/aframe-bmfont-text-component.min.js"></script>

	<!-- Grid from a-frame-extras -->
	<script src="//cdn.rawgit.com/donmccurdy/aframe-extras/v2.3.0/dist/aframe-extras.primitives.min.js"></script>
</head>

<body>
	<a-scene>
		<a-assets>
			<a-mixin id="segment" geometry="primitive: circle; thetaLength: 51.428; thetaStart: -25.71;" material="color: red" sound="autoplay: false;"></a-mixin>
			<a-mixin id="segment-label-mixin" bmfont-text="align: center; width: 256;" position="0 -0.05 0.1"></a-mixin>
			<a-mixin id="id-label-mixin" bmfont-text="align: center; width: 256; color: white;" position="-0.6 -0.15 0.26"></a-mixin>
			<a-asset-item id="arrow-box-obj" src="models/arrow-box.obj"></a-asset-item>
			<audio id="c-sound" src="sounds/C.wav" /></audio>
			<audio id="d-sound" src="sounds/D.wav" /></audio>
			<audio id="e-sound" src="sounds/E.wav" /></audio>
			<audio id="f-sound" src="sounds/F.wav" /></audio>
			<audio id="g-sound" src="sounds/G.wav" /></audio>
			<audio id="a-sound" src="sounds/A.wav" /></audio>
			<audio id="b-sound" src="sounds/B.wav" /></audio>
		</a-assets>
		<a-camera>
			<a-cursor fuse="false"></a-cursor>

			<!-- THIS GETS webrtc-avatar ASSIGNED VIA SCRIPT ONCE THE ROOM IS KNOWN -->
			<a-entity id="webrtc-avatar">
				<a-box material="color: red;" scale="" ></a-box>
				<a-sphere position="0.25 0 -0.5" scale="0.2 0.2 0.2" ></a-sphere>
				<a-sphere position="-0.25 0 -0.5" scale="0.2 0.2 0.2" ></a-sphere>
				<a-box material="color: red;" position="0 -0.7 0" rotation="-10 0 0" scale="1 0.2 1" ></a-box>
				<a-box material="color: pink;" position="0 -0.65 0" rotation="-10 0 0" scale="0.8 0.2 0.8" ></a-box>
			</a-entity>
		</a-camera>
		<a-grid src="url(https://cdn.rawgit.com/donmccurdy/aframe-extras/v2.3.0/assets/grid.png)"></a-grid>
		<a-entity position="0 1 -3" scale="0.5 0.5 0.5">
			<a-entity geometry="primitive: box; width: 1.5; height: 4; depth: 0.4;" position="0 0 -0.255" material="color: darkgrey;">
				<a-entity geometry="primitive: cylinder; height: 0.5; radius: 1.3" rotation="-90 0 0" material="color: grey;"></a-entity>
				<a-entity geometry="primitive: box; width: 1.6; height: 0.5; depth: 0.5;" position="0 1.6 0" material="color: teal;">
					<a-entity id="id-label" mixin="id-label-mixin" bmfont-text="text: Status Connecting...;"></a-entity>
				</a-entity>
			</a-entity>
			<a-entity material="color: #8ac0f0;" obj-model="obj: #arrow-box-obj;" position="1.7 1.5 0">
					<a-entity id="dial-label" mixin="segment-label-mixin" bmfont-text="text: Test;" position="0.1 0.05 0.26"></a-entity>
			</a-entity>
			<a-entity scale="1.2 1.2 1.2" rotation="0 0 115">
				<a-entity class="dial-key" mixin="segment" sound="src: #c-sound;" data-dial-key="do" material="color:hsl(51,80%,60%);" rotation="0 0 -51.428">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: do;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #d-sound;" data-dial-key="re" material="color:hsl(102,80%,60%);" rotation="0 0 -102.856">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: re;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #e-sound;" data-dial-key="mi" material="color:hsl(154,80%,60%);" rotation="0 0 -154.284">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: mi;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #f-sound;" data-dial-key="fa" material="color:hsl(205,80%,60%);" rotation="0 0 -205.712">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: fa;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #g-sound;" data-dial-key="sol" material="color:hsl(0257,80%,60%)" rotation="0 0 -257.14">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: sol;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #a-sound;" data-dial-key="la" material="color:hsl(308,80%,60%);" rotation="0 0 -308.568">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: la;"></a-entity>
				</a-entity>
				<a-entity class="dial-key" mixin="segment" sound="src: #b-sound;" data-dial-key="si" material="color:hsl(0,80%,60%);" rotation="0 0 0">
					<a-entity mixin="segment-label-mixin" bmfont-text="text: si;"></a-entity>
				</a-entity>
			</a-entity>
			<a-entity id="dial-button" geometry="primitive: sphere; radius: 0.4;" material="color: red;" scale="1 1 0.3">
					<a-entity bmfont-text="text: Dial; align: center; width: 256;" position="-0.59 -0.06 0.5"></a-entity>
			</a-entity>
		</a-entity>
		<a-sky color="#ECECEC"></a-sky>
	</a-scene>
	<script src="https://cdn.polyfill.io/v2/polyfill.js?features=Array.isArray,Array.from,default-3.6,Element.prototype.before,Element.prototype.after,Element.prototype.remove,performance.now"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.16.1/lodash.min.js"></script>
	<script src="https://cdn.rawgit.com/mozdevs/mediaDevices-getUserMedia-polyfill/master/mediaDevices-getUserMedia-polyfill.js"></script>
	<script src="https://webrtc.github.io/adapter/adapter-latest.js"></script>
	<script src="/socket.io/socket.io.js"></script>
	<script src="scripts/webrtc.js"></script>
	<script src="scripts/main.js"></script>
</body>

</html>